<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>house</title>
    <script src="jquery.min.js"></script>
</head>
<body>
<script>
    var ws=null;
//     $(document).ready(function () {
//         var wsUrl = 'ws://localhost:8080/MyProject/mahjong/abc/123';
//         webSocket=new WebSocket(wsUrl);
//
//         function link(){
//             websocket.send("1");
//             loginB.disabled=true;
//         }
//
//         //连接关闭的回调方法
//         websocket.onclose = function () {
// //	alert("error123");
//             fangpai.innerHTML+="<h1>连接断开，无法游戏</h1><h1>请检查网络连接</h1>";
//
//         }
//
//         //监听窗口关闭事件，当窗口关闭时，主动去关闭websocket连接，防止连接还没断开就关闭窗口，server端会抛异常。
//         window.onbeforeunload = function () {
//             closeWebSocket();
//         }
//         //接收到消息的回调方法
//         websocket.onmessage=function(event){
//             alert(event.data);
//             console.log(event.data);
//         };
//     });
    var wsUrl = 'ws://localhost:8080/MyProject/mahjong/abc/123';
    ws=new WebSocket(wsUrl);
    ws.onopen = function()
    {
    };
    ws.onmessage = function(evt)
    {
        if(evt.data=="aa"){
            window.location.href="index.html";
        }
        alert(evt.data);
        console.log(evt.data)
    };
    ws.onclose = function(evt)
    {
        console.log("WebSocketClosed!");
    };
    ws.onerror = function(evt)
    {
        console.log("WebSocketError!");
    };

    function closeWebSocket() {
        websocket.close();
    };
    function b1click() {

        ws.send("1");
    };
    function b2click() {
        ws.send("2");
    };
</script>

<button id="button1" onclick="b1click()">b1</button>
<button id="button2" onclick="b2click()">b2</button>


</body>
</html>